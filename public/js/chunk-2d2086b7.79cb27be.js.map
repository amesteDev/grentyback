{"version":3,"sources":["webpack:///./src/views/Login.vue?3afc","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","checkForm","errors","_v","_l","error","key","idx","_s","_e","directives","name","rawName","value","expression","domProps","$event","target","composing","email","password","staticClass","staticRenderFns","props","msg","String","data","info","methods","age","push","e","preventDefault","length","login","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,MAAM,OAAS,QAAQC,GAAG,CAAC,OAASP,EAAIQ,YAAY,CAAER,EAAIS,OAAa,OAAEL,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAIU,GAAG,+CAA+CN,EAAG,KAAKJ,EAAIW,GAAIX,EAAU,QAAE,SAASY,GAAO,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAME,KAAK,CAACd,EAAIU,GAAGV,EAAIe,GAAGH,SAAY,KAAKZ,EAAIgB,KAAKZ,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIU,GAAG,YAAYN,EAAG,MAAMA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAS,MAAEqB,WAAW,UAAUf,MAAM,CAAC,GAAK,QAAQ,KAAO,QAAQ,KAAO,SAASgB,SAAS,CAAC,MAAStB,EAAS,OAAGO,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBzB,EAAI0B,MAAMH,EAAOC,OAAOJ,aAAYhB,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIU,GAAG,cAAcN,EAAG,MAAMA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAY,SAAEqB,WAAW,aAAaf,MAAM,CAAC,GAAK,WAAW,KAAO,WAAW,KAAO,YAAYgB,SAAS,CAAC,MAAStB,EAAY,UAAGO,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBzB,EAAI2B,SAASJ,EAAOC,OAAOJ,aAAYhB,EAAG,SAAS,CAACwB,YAAY,SAAStB,MAAM,CAAC,KAAO,SAAS,MAAQ,WAAW,CAACN,EAAIU,GAAG,aAAaN,EAAG,IAAI,CAACJ,EAAIU,GAAG,kBAAkBN,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,aAAa,CAACN,EAAIU,GAAG,qBAAqBN,EAAG,OAAO,IAC9yCyB,EAAkB,G,iCC+BtB,GACEX,KAAM,WACNY,MAAO,CACLC,IAAKC,QAEPC,KALF,WAMI,MAAO,CACLN,SAAU,KACVD,MAAO,KACPjB,OAAQ,GACRyB,KAAM,OAIVC,QAAS,CACP3B,UADJ,SACA,GACM,GAAIP,KAAKiB,MAAQjB,KAAKmC,IACpB,OAAO,EAGTnC,KAAKQ,OAAS,GAETR,KAAKyB,OACRzB,KAAKQ,OAAO4B,KAAK,qBAGdpC,KAAK0B,UACR1B,KAAKQ,OAAO4B,KAAK,uBAGnBC,EAAEC,iBAEGtC,KAAKQ,OAAO+B,QACfvC,KAAKwC,SAGTA,MAtBJ,WAsBA,WACM,EAAN,EACA,yCACQ,SAAR,WACQ,SAAR,gBAEA,kBACQ,aAAR,mBACQ,aAAR,gCACQ,aAAR,8BAEA,WAGU,EAAV,wBAFU,EAAV,sBChF+U,I,YCO3UC,EAAY,eACd,EACA3C,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAa,E","file":"js/chunk-2d2086b7.79cb27be.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"id\":\"app\",\"method\":\"post\"},on:{\"submit\":_vm.checkForm}},[(_vm.errors.length)?_c('p',[_c('b',[_vm._v(\"Du måste fylla i formuläret enligt nedan:\")]),_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error.idx},[_vm._v(_vm._s(error))])}),0)]):_vm._e(),_c('p',[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"E-post\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('p',[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Lösenord\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"id\":\"password\",\"type\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Submit\"}},[_vm._v(\"Login\")])]),_c('p',[_vm._v(\"Inget konto?\")]),_c('router-link',{attrs:{\"to\":\"register\"}},[_vm._v(\"Registrera här!\")]),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form\r\n      id=\"app\"\r\n      @submit=\"checkForm\"\r\n      method=\"post\"\r\n    >\r\n     <p v-if=\"errors.length\">\r\n      <b>Du måste fylla i formuläret enligt nedan:</b>\r\n      <ul>\r\n        <li v-for=\"error in errors\" v-bind:key=\"error.idx\">{{ error }}</li>\r\n      </ul>\r\n    </p>\r\n    <p>\r\n        <label for=\"email\">E-post</label><br />\r\n        <input id=\"email\" v-model=\"email\" type=\"email\" name=\"email\">\r\n    </p>\r\n    <p>\r\n        <label for=\"password\">Lösenord</label><br />\r\n        <input id=\"password\" v-model=\"password\" type=\"password\" name=\"password\">\r\n    </p>\r\n      <button  type=\"submit\" value=\"Submit\" class=\"button\">Login</button>\r\n    </form>\r\n    <p>Inget konto?</p>\r\n    <router-link to=\"register\">Registrera här!</router-link>\r\n    <br />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"LoginBox\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n      password: null,\r\n      email: null,\r\n      errors: [],\r\n      info: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    checkForm(e) {\r\n      if (this.name && this.age) {\r\n        return true;\r\n      }\r\n\r\n      this.errors = [];\r\n\r\n      if (!this.email) {\r\n        this.errors.push(\"Fyll i en e-post.\");\r\n      }\r\n\r\n      if (!this.password) {\r\n        this.errors.push(\"Ange ditt lösenord.\");\r\n      }\r\n\r\n      e.preventDefault();\r\n\r\n      if (!this.errors.length) {\r\n        this.login();\r\n      }\r\n    },\r\n    login() {\r\n      axios\r\n        .post(\"http://localhost:3000/user/login\", {\r\n          username: this.email,\r\n          password: this.password,\r\n        })\r\n        .then((response) => {\r\n          localStorage.token = response.data.token;\r\n          localStorage.longitude = response.data.user.longitude;\r\n          localStorage.latitude = response.data.user.latitude;\r\n \r\n          if (!response.data.err) {\r\n            this.$router.go('/');\r\n          } else {\r\n            this.errors.push(response.data.msg);\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=414317fe&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"414317fe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}